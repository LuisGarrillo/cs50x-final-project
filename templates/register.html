{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block JavaScript %}
    <script src="/static/register.js"></script>
{% endblock %}

{% block main%}
<div class="mb-0 text-center">
    <form action="/register" method="post">
        <div class="my-3">
            <h1>O-Taste registration</h1>
        </div>
        <section class="my-2 mx-5 px-2 py-2 background">
            <h3>User info</h3>
            <p>Your password must contain at least 8 characters, one uppercase letter, one lowercase letter and one number</p>
            <div class="mb-3 mt-2">
                <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="username" name="username" placeholder="Username" type="text" required>
            </div>
            <div class="mb-3">
                <input class="form-control mx-auto w-auto" id="password" name="password" placeholder="Password" type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number, one uppercase and lowercase letter, and at least 8 or more characters" required>
            </div>
            <div class="mb-3 error" id="password-listener"></div>
            <div class="mb-3">
                <input class="form-control mx-auto w-auto" id="confirmation" name="confirmation" placeholder="Confirmation" type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number, one uppercase and lowercase letter, and at least 8 or more characters" required>
            </div>
            <div class="mb-3 error" id="confirmation-listener"></div>

            <div class="mb-3">
                {% if status == 1 %}
                    <p class="error">Username already exists!</p>
                {% elif status == 2 %}
                    <p class="error">Passwords do not match!</p>
                {% elif status == 3 %}
                    <p class="error">Complete all fields!</p>
                {% elif status == 4%}
                    <p class="error">The password doesn't meet the requirements</p>
                {% endif %}
            </div>
        </section>

        <section class="my-2 mx-5 px-2 py-2 background">
            <h3>Personal info</h3>
            <div class="mt-2">
                <h5>Your Birthday</h5>
                <input autocomplete="off" class="form-control mx-auto w-auto" id="birthday" name="birthday" type="date" placeholder="Birthday"  required>
            </div>
            <div class="my-2 mb-3">
                <select name="gender" class="form-control mx-auto w-auto" required>
                    <option disabled selected>Your gender<option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Non-binary">Non-binary</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="mb-3">
                <input class="form-control mx-auto w-auto" id="email" name="email" placeholder="Email" type="text" required>
            </div>

            <div class="mb-3">
                {% if status == 5 %}
                    <p class="error">Complete all fields!</p>
                {% elif status == 6 %}
                    <p class="error">Invalid Email</p>
                {% elif status == 7 %}
                    <p class="error">Another user already registered that email!</p>
                {% endif %}
            </div>

        </section>

        <div class="mb-3">
            <button class="btn btn-primary" type="submit" style="background-color: indianred; border:none; font-size: 25px;" id="register">Register</button>
        </div>
    </form>
</div>
{% endblock %}